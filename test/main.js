(()=>{var t={10:t=>{const e=function(t){this.script={},this.timeline=[],this.filename="",this.container=t};(e.prototype={}).constructor=e,e.prototype.setContainer=function(t){this.container=t},e.prototype.updateCaptions=function(t,e=!0,n=!0){if(!e)return this.container.style.opacity=0,!1;let i=this.timeline.find((e=>e.startS<=t&&e.endS>=t));this.container.innerHTML="",void 0!==i?(i.content.forEach(((t,e)=>{this.container.innerHTML+=t,e<i.content.length-1&&(this.container.innerHTML+="<br>")})),this.container.style.opacity=n?1:0):this.container.style.opacity=0},e.prototype.checkNextDescriptionTime=function(t){let e=t.getCurrentTime(),n=Math.floor(sbvCaptions.timeline.find((t=>t.startS>=e&&t.endS>=e)).startS-e);n>6&&null!=typeof StatusVO&&StatusVO.update(`audio description starting in ${n} seconds`)},e.prototype.convertTimetoMs=function(t){if(""==t||void 0===t)return console.log("nothing"),"";let e=t.split(":"),n=parseInt(e[0]),i=parseInt(e[1]),r=parseInt(e[2].split(".")[0]);return(parseInt(e[2].split(".")[1])+1e3*r+60*i*1e3+60*n*60*1e3)/1e3},e.prototype.splitCaptions=function(t){function e(t){if(""==t||void 0===t)return"";let e=t.split(":"),n=parseInt(e[0]),i=parseInt(e[1]),r=parseInt(e[2].split(".")[0]);return(parseInt(e[2].split(".")[1])+1e3*r+60*i*1e3+60*n*60*1e3)/1e3}let n=[];return t.forEach(((t,i)=>{if(""==t)return;let r={start:t.split("\n")[0].split(",")[0],end:t.split("\n")[0].split(",")[1],content:t.split("\n").slice(1)};r.startS=e(r.start),r.endS=e(r.end),n.push(r)}),this),n},e.prototype.requestListener=function(){this.captionTarget.script.events=this.responseText.split("\n\n"),this.captionTarget.timeline=this.captionTarget.splitCaptions(this.captionTarget.script.events,this.captionTarget)},e.prototype.requestError=function(t){console.error("Fetch Error",t)},e.prototype.loadCaptions=function(t){this.filename=t;var e=new XMLHttpRequest;e.captionTarget=this,e.onload=this.requestListener,e.onerror=this.requestError,e.open("get",`./${this.filename}`,!0),e.send()},t.exports=e}},e={};function n(i){var r=e[i];if(void 0!==r)return r.exports;var o=e[i]={exports:{}};return t[i](o,o.exports,n),o.exports}(()=>{const t=n(10);window.syncCC=new t(document.querySelector("#captions_div"))})()})();